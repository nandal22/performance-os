@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 220 18% 5%;
  --foreground: 0 0% 94%;
  --card: 220 15% 9%;
  --card-foreground: 0 0% 94%;
  --primary: 217 91% 62%;
  --primary-foreground: 0 0% 100%;
  --muted: 220 12% 14%;
  --muted-foreground: 220 9% 52%;
  --border: 220 12% 16%;
  --input: 220 12% 16%;
  --ring: 217 91% 62%;
  --radius: 0.75rem;
  color-scheme: dark;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', system-ui, sans-serif;
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  min-height: 100vh;
  min-height: 100dvh;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  overscroll-behavior: none;
}

/* Ambient top glow — gives the dark canvas depth */
body::before {
  content: '';
  position: fixed;
  top: -15vh;
  left: 50%;
  transform: translateX(-50%);
  width: 120vw;
  height: 70vh;
  background: radial-gradient(ellipse at 50% 0%,
    hsl(217 91% 62% / 0.08) 0%,
    hsl(270 80% 60% / 0.03) 45%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 0;
}

/* Tabular numbers for stats */
.nums {
  font-variant-numeric: tabular-nums;
  font-feature-settings: 'tnum';
}

/* Glass card surface */
.glass {
  background: rgba(255, 255, 255, 0.028);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Primary-tinted glow for key cards */
.glow-blue {
  box-shadow:
    0 0 0 1px hsl(217 91% 62% / 0.25),
    0 8px 32px hsl(217 91% 62% / 0.12);
}

/* ── iOS safe area utilities ── */
.pt-safe  { padding-top:    max(1.5rem, env(safe-area-inset-top, 0px)); }
.pb-safe  { padding-bottom: env(safe-area-inset-bottom, 0px); }
.pb-nav   { padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0px)); }

/* ── Prevent iOS input zoom (font-size < 16px triggers auto-zoom) ── */
input[type="text"],
input[type="number"],
input[type="date"],
input[type="time"],
input[type="email"],
input[type="search"],
textarea,
select {
  font-size: 16px;
  color-scheme: dark;
  /* iOS Safari overrides `color` property — use fill color instead */
  -webkit-text-fill-color: inherit;
}

/* ── Calendar/clock picker icon — invert for dark backgrounds ── */
input::-webkit-calendar-picker-indicator {
  filter: invert(0.8) brightness(1.1);
  cursor: pointer;
  opacity: 0.7;
}

/* ── Custom select arrow (hides system OS arrow) ── */
select {
  -webkit-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='rgba(255,255,255,0.35)' stroke-width='1.8' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 36px !important;
}

/* Dark background for select options (works on Chrome/Firefox; iOS always uses system picker) */
option {
  background-color: hsl(220 14% 10%);
  color: #fff;
}

/* ── Hide scrollbar but keep scroll ── */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* ── Sonner toast: push below iPhone notch ── */
[data-sonner-toaster][data-y-position="top"] {
  top: max(16px, env(safe-area-inset-top, 16px)) !important;
}

/* ── Light theme ── */
[data-theme="light"] {
  --background: 210 20% 96%;
  --foreground: 220 20% 10%;
  --card: 0 0% 100%;
  --card-foreground: 220 20% 10%;
  --primary: 217 91% 48%;
  --primary-foreground: 0 0% 100%;
  --muted: 210 15% 90%;
  --muted-foreground: 220 10% 42%;
  --border: 210 15% 82%;
  --input: 210 15% 88%;
  color-scheme: light;
}

/* Remap white-tinted utilities to dark-tinted in light mode */
[data-theme="light"] .text-white                     { color: hsl(220 20% 8%) !important; }
[data-theme="light"] .text-white\/20                 { color: hsl(220 20% 8% / 0.28) !important; }
[data-theme="light"] .text-white\/30                 { color: hsl(220 20% 8% / 0.38) !important; }
[data-theme="light"] .text-white\/40                 { color: hsl(220 20% 8% / 0.48) !important; }
[data-theme="light"] .bg-white\/5                    { background-color: hsl(220 20% 8% / 0.05) !important; }
[data-theme="light"] .bg-white\/10                   { background-color: hsl(220 20% 8% / 0.09) !important; }
[data-theme="light"] .border-white\/5                { border-color: hsl(220 20% 8% / 0.08) !important; }
[data-theme="light"] .border-white\/10               { border-color: hsl(220 20% 8% / 0.13) !important; }
[data-theme="light"] .border-white\/\[0\.08\]        { border-color: hsl(220 20% 8% / 0.09) !important; }
[data-theme="light"] .bg-background\/80              { background-color: hsl(210 20% 96% / 0.92) !important; }
[data-theme="light"] .bg-background\/95              { background-color: hsl(210 20% 97% / 0.97) !important; }
[data-theme="light"] .placeholder\:text-white\/20\:\:placeholder { color: hsl(220 20% 8% / 0.30) !important; }
[data-theme="light"] .placeholder\:text-white\/25\:\:placeholder { color: hsl(220 20% 8% / 0.38) !important; }
[data-theme="light"] .placeholder\:text-white\/30\:\:placeholder { color: hsl(220 20% 8% / 0.45) !important; }
[data-theme="light"] input,
[data-theme="light"] textarea,
[data-theme="light"] select { color: hsl(220 20% 8%) !important; -webkit-text-fill-color: hsl(220 20% 8%) !important; }
